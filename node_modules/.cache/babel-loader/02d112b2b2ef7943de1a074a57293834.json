{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\zdunc\\\\Desktop\\\\DEV\\\\weather-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\zdunc\\\\Desktop\\\\DEV\\\\weather-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\zdunc\\\\Desktop\\\\DEV\\\\weather-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import axios from\"axios\";import Context from\"../Context\";import Header from\"./Header\";import Content from\"./Content\";import WeatherSearch from\"./WeatherSearch\";import WeatherData from\"./WeatherData\";import Error from\"./Error\";import DateTime from\"./DateTime\";import Tagline from\"./Tagline\";import Footer from\"./Footer\";var Main=function Main(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),weather=_useState2[0],setWeather=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),city=_useState4[0],setCity=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var api_call=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var location,API_KEY,url,request,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();location=e.target.elements.location.value;if(location){_context.next=4;break;}return _context.abrupt(\"return\",(setError(\"Wprowadź nazwę miasta\"),setWeather(null)));case 4:API_KEY=\"f6bf1608db2876724e2c1183f3f2e287\";url=\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(location,\"&appid=\").concat(API_KEY,\"&units=metric\");request=axios.get(url);_context.next=9;return request;case 9:response=_context.sent;setWeather(response.data.main);setCity(response.data.name);setError(null);case 13:case\"end\":return _context.stop();}}},_callee);}));return function api_call(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"main\"},/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(Content,null,/*#__PURE__*/React.createElement(DateTime,null),/*#__PURE__*/React.createElement(Tagline,null),/*#__PURE__*/React.createElement(Context.Provider,{value:{api_call:api_call,weather:weather,city:city,error:error}},/*#__PURE__*/React.createElement(WeatherSearch,null),weather&&/*#__PURE__*/React.createElement(WeatherData,null),error&&/*#__PURE__*/React.createElement(Error,{error:error})),/*#__PURE__*/React.createElement(Footer,null)));};export default Main;","map":{"version":3,"sources":["C:/Users/zdunc/Desktop/DEV/weather-app/src/components/Main.js"],"names":["React","useState","axios","Context","Header","Content","WeatherSearch","WeatherData","Error","DateTime","Tagline","Footer","Main","weather","setWeather","city","setCity","error","setError","api_call","e","preventDefault","location","target","elements","value","API_KEY","url","request","get","response","data","main","name"],"mappings":"kfAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CAGA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,eAEeX,QAAQ,EAFvB,wCAERY,OAFQ,eAECC,UAFD,8BAGQb,QAAQ,EAHhB,yCAGRc,IAHQ,eAGHC,OAHG,8BAIUf,QAAQ,EAJlB,yCAIRgB,KAJQ,eAIFC,QAJE,eAMf,GAAMC,CAAAA,QAAQ,0FAAG,iBAAMC,CAAN,4JACbA,CAAC,CAACC,cAAF,GACMC,QAFO,CAEIF,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBF,QAAlB,CAA2BG,KAF/B,IAGTH,QAHS,0DAGQJ,QAAQ,CAAC,uBAAD,CAAR,CAAmCJ,UAAU,CAAC,IAAD,CAHrD,UAIPY,OAJO,CAIG,kCAJH,CAKPC,GALO,6DAKoDL,QALpD,mBAKsEI,OALtE,kBAMPE,OANO,CAMG1B,KAAK,CAAC2B,GAAN,CAAUF,GAAV,CANH,uBAOUC,CAAAA,OAPV,QAOPE,QAPO,eAQbhB,UAAU,CAACgB,QAAQ,CAACC,IAAT,CAAcC,IAAf,CAAV,CACAhB,OAAO,CAACc,QAAQ,CAACC,IAAT,CAAcE,IAAf,CAAP,CACAf,QAAQ,CAAC,IAAD,CAAR,CAVa,uDAAH,kBAARC,CAAAA,QAAQ,4CAAd,CAaA,mBACI,2BAAK,SAAS,CAAC,MAAf,eACI,oBAAC,MAAD,MADJ,cAEI,oBAAC,OAAD,mBACI,oBAAC,QAAD,MADJ,cAEI,oBAAC,OAAD,MAFJ,cAGI,oBAAC,OAAD,CAAS,QAAT,EAAkB,KAAK,CAAE,CAACA,QAAQ,CAARA,QAAD,CAAWN,OAAO,CAAPA,OAAX,CAAoBE,IAAI,CAAJA,IAApB,CAA0BE,KAAK,CAALA,KAA1B,CAAzB,eACA,oBAAC,aAAD,MADA,CAEKJ,OAAO,eAAI,oBAAC,WAAD,MAFhB,CAGKI,KAAK,eAAI,oBAAC,KAAD,EAAO,KAAK,CAAEA,KAAd,EAHd,CAHJ,cAQI,oBAAC,MAAD,MARJ,CAFJ,CADJ,CAgBH,CAnCD,CAqCA,cAAeL,CAAAA,IAAf","sourcesContent":["import React, {useState} from \"react\"\r\nimport axios from \"axios\"\r\n\r\nimport Context from \"../Context\"\r\n\r\nimport Header from \"./Header\"\r\nimport Content from \"./Content\"\r\nimport WeatherSearch from \"./WeatherSearch\"\r\nimport WeatherData from \"./WeatherData\"\r\nimport Error from \"./Error\"\r\nimport DateTime from \"./DateTime\"\r\nimport Tagline from \"./Tagline\"\r\nimport Footer from \"./Footer\"\r\n\r\n\r\nconst Main = () => {\r\n\r\n    const [weather, setWeather] = useState()\r\n    const [city,setCity] = useState()\r\n    const [error,setError] = useState()\r\n\r\n    const api_call = async e => {\r\n        e.preventDefault()\r\n        const location = e.target.elements.location.value\r\n        if(!location) return setError(\"Wprowadź nazwę miasta\"), setWeather(null)\r\n        const API_KEY = \"f6bf1608db2876724e2c1183f3f2e287\"\r\n        const url = `https://api.openweathermap.org/data/2.5/weather?q=${location}&appid=${API_KEY}&units=metric`\r\n        const request = axios.get(url)\r\n        const response = await request\r\n        setWeather(response.data.main)\r\n        setCity(response.data.name)\r\n        setError(null)\r\n    }\r\n\r\n    return (\r\n        <div className=\"main\">\r\n            <Header/>\r\n            <Content>\r\n                <DateTime/>\r\n                <Tagline/>\r\n                <Context.Provider value={{api_call, weather, city, error}}>\r\n                <WeatherSearch/>\r\n                    {weather && <WeatherData/>}\r\n                    {error && <Error error={error}/>}\r\n                </Context.Provider>\r\n                <Footer/>\r\n            </Content>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Main "]},"metadata":{},"sourceType":"module"}